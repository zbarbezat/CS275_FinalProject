<!DOCTYPE html>
<html>
<head>
	<title>Spotify Web App</title>
	<!-- JQuery CDN -->
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>

	<script type="text/javascript">
		function idRequest (){
		//Here is the requeset to the server along with the zip code and key from the text boxes
		var URL = "http://localhost:8080/search";
		$.ajax({
			type: "GET",
			url: URL,
			//contentType: "application/json; charset=utf-8",
			data: 
			{
				value: document.getElementById("artist").value  
			},
			dataType: "text",
			
			success: function(msg) {
				//alert("worked")
				frame = "<iframe src='https://open.spotify.com/embed/artist/" + msg + "' width='300' height='380' frameborder='0' allowtransparency='true' allow='encrypted-media'></iframe>";
				document.getElementById("spotifyDiv").innerHTML=frame;

			},

			error: function (xhr, ajaxOptions, thrownError) {
			console.log("Call messed up");
			}
		});
	}
	</script>
</head>
<body>
	<h1>Whatever we name this thing</h1>
	<!-- Separating these two so that it's easier to style later -->
	<div>
		<form>
			Type in an artist's name:
			<input type="field" name="artistname" id="artist">
			<input type="button" value="Submit" name="subbtn" onclick="idRequest()">
		</form>
	</div>
</body>
<div id="spotifyDiv">	
</div>
</html>